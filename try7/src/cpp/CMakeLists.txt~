INCLUDE_DIRECTORIES(/usr/include/ni)
INCLUDE_DIRECTORIES(/usr/local/include/eigen3)
INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include)
SET(LIBKINECTINPUT Kinect_Input.cpp)
SET(LIBDETECTION Detect.cpp)
SET(LIBPOINTCLOUD PointCloudProcess.cpp)
ADD_LIBRARY(GETKINECT SHARED ${LIBKINECTINPUT})
ADD_LIBRARY(SURFDETECT SHARED ${LIBDETECTION})
ADD_LIBRARY(POINTCLOUDPROCESS SHARED ${LIBPOINTCLOUD})
SET(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/lib)
FIND_PACKAGE( OpenCV REQUIRED )
TARGET_LINK_LIBRARIES(GETKINECT ${OpenCV_LIBS} )
TARGET_LINK_LIBRARIES(SURFDETECT ${OpenCV_LIBS})
TARGET_LINK_LIBRARIES(POINTCLOUDPROCESS ${OpenCV_LIBS})
TARGET_LINK_LIBRARIES(GETKINECT /usr/lib/libOpenNI.so)
TARGET_LINK_LIBRARIES(SURFDETECT ${PROJECT_SOURCE_DIR}/lib/libGETKINECT.so)
TARGET_LINK_LIBRARIES(POINTCLOUDPROCESS ${PROJECT_SOURCE_DIR}/lib/libSURFDETECT.so ${PROJECT_SOURCE_DIR}/lib/libGETKINECT.so)
#TARGET_LINK_LIBRARIES(POINTCLOUDPROCESS ${PROJECT_SOURCE_DIR}/lib/libSURFDETECT.so)
FIND_PACKAGE( PCL 1.7 REQUIRED COMPONENTS common io visualization)
INCLUDE_DIRECTORIES( ${PCL_INCLUDE_DIRS}  )
LINK_DIRECTORIES( ${PCL_LIBRARY_DIRS} )
ADD_DEFINITIONS( ${PCL_DEFINITIONS} )
TARGET_LINK_LIBRARIES( GETKINECT ${PCL_COMMON_LIBRARIES} ${PCL_IO_LIBRARIES} ${PCL_VISUALIZATION_LIBRARIES})
TARGET_LINK_LIBRARIES( POINTCLOUDPROCESS ${PCL_COMMON_LIBRARIES} ${PCL_IO_LIBRARIES} ${PCL_VISUALIZATION_LIBRARIES})




ADD_EXECUTABLE(main ../main.cpp)
LINK_DIRECTORIES(/usr/lib/)
TARGET_LINK_LIBRARIES( main /usr/lib/libOpenNI.so)
TARGET_LINK_LIBRARIES( main ${OpenCV_LIBS} )
TARGET_LINK_LIBRARIES( main ${PCL_COMMON_LIBRARIES} ${PCL_IO_LIBRARIES} ${PCL_VISUALIZATION_LIBRARIES})
#INCLUDE_DIRECTORIES(${PROJECT_SOURCE_DIR}/include)
LINK_DIRECTORIES(${PROJECT_SOURCE_DIR}/lib/)
TARGET_LINK_LIBRARIES(main ${PROJECT_SOURCE_DIR}/lib/libGETKINECT.so)
TARGET_LINK_LIBRARIES(main ${PROJECT_SOURCE_DIR}/lib/libSURFDETECT.so)
TARGET_LINK_LIBRARIES(main ${PROJECT_SOURCE_DIR}/lib/libPOINTCLOUDPROCESS.so)

SET(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)


